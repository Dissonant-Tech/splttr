<ion-modal-view>
	<ion-header-bar>
		<h1 class="title">Add Expense</h1>
		<div class="buttons">
			<button class="button button-clear button-positive" ng-click="closeExpenseModal()">Close</button>
		</div>
	</ion-header-bar>
	<ion-content>
		<form name="newExpenseForm" ng-submit="addNewExpense($event)" novalidate>
			<div class="list">

				<!-- MODAL INPUT FIELDS -->
				<div class="modal-input padding">

					<label class="item item-input item-floating-label modal-label">
						<span class="input-label">Title</span>
						<input type="text" placeholder="Title" ng-model="newExpenseParams.name" required>
					</label>

					<span class="input-label padding modal-label textarea-label">Description</span>
					<label class="item item-input textarea-wrapper">
						<textarea placeholder="Describe the expense in a few words" ng-model="newExpenseParams.description" required></textarea>
					</label>

				</div>

				<!-- MODAL MEMBER SEARCH -->
				<div class="modal-expense item">
					<span class="input-label">Who's involved?</span>
					<label class="item item-input search">
						<i class="icon ion-search placeholder-icon"></i>
						<input type="search" placeholder="Search" ng-model="search.text"> </label>
						<div class="expense">

							<!-- MEMBERS -->
							<ul class="members-list">
								<li ng-repeat="member in newBillMembers | filter:search.text" on-tap="addMemberToTab()">
									<div class="member-image-wrapper">
										<img src="img/blank-user.png" class="member-image">
										<span>@{{member.username}}</span>
									</div>
									<div class="member-info">
										<label class="item item-input item-floating-label">
											<span class="input-label">Owes you:</span>
											<input type="number" placeholder="How much do they owe you?" ng-model="newBillAmounts[$index].amount" ng-change="addUserBill($index, {{member}})">
										</label>
									</div>
								</li>
							</ul>

						</div>
					</div>



					<!-- MODAL BUTTON -->
					<div class="padding">
						<button type="submit" ng-submit="addNewExpense()" class="button button-block button-positive" ng-disabled="newExpenseForm.$invalid">
							Add Expense
						</button>
					</div>

				</div>
			</form>
		</ion-content>
	</ion-modal-view>
